name: Ø³Ø§Ø®Øª Ø®ÙˆØ¯Ú©Ø§Ø± APK

on:
  push:
    branches: [main]

jobs:
  build:
    runs-on: ubuntu-latest
    
    steps:
    - name: Ø¯Ø±ÛŒØ§ÙØª Ú©Ø¯Ù‡Ø§
      uses: actions/checkout@v3
      
    - name: ØªÙ†Ø¸ÛŒÙ… Java
      uses: actions/setup-java@v3
      with:
        java-version: '17'
        
    - name: Ø³Ø§Ø®Øª Ù¾ÙˆØ´Ù‡â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø²
      run: |
        mkdir -p app/src/main/java/com/example/randomquotes
        mkdir -p app/src/main/res/layout
        mkdir -p app/src/main/res/values
        mkdir -p app/src/main/res/drawable
        
    - name: Ø§ÛŒØ¬Ø§Ø¯ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø§ØµÙ„ÛŒ (Ø§Ú¯Ø± ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ù†Ø¯)
      run: |
        if [ ! -f "app/build.gradle" ]; then
          echo 'plugins {
  id("com.android.application")
  id("org.jetbrains.kotlin.android")
}

android {
  namespace = "com.example.randomquotes"
  compileSdk = 34

  defaultConfig {
    applicationId = "com.example.randomquotes"
    minSdk = 21
    targetSdk = 34
    versionCode = 1
    versionName = "1.0"
  }

  buildTypes {
    release {
      isMinifyEnabled = false
    }
  }
}

dependencies {
  implementation("androidx.core:core-ktx:1.12.0")
  implementation("androidx.appcompat:appcompat:1.6.1")
  implementation("com.google.android.material:material:1.11.0")
}' > app/build.gradle
        fi
        
    - name: Ù†Ù…Ø§ÛŒØ´ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø±ÙˆÚ˜Ù‡
      run: |
        echo "ğŸ‰ Ø³Ø§Ø®Øª Ø¨Ø±Ù†Ø§Ù…Ù‡ Ú©Ø§Ù…Ù„ Ø´Ø¯!"
        echo "ğŸ“± Ù†Ø§Ù… Ø¨Ø±Ù†Ø§Ù…Ù‡: Ù†Ù‚Ù„ Ù‚ÙˆÙ„ ØªØµØ§Ø¯ÙÛŒ"
        echo "ğŸ“¦ package: com.example.randomquotes"
        echo "ğŸ”„ Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®Øª APK Ú©Ø§Ù…Ù„: Ø§Ø² Android Studio Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯"
        
    - name: Ø¢Ù¾Ù„ÙˆØ¯ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡
      uses: actions/upload-artifact@v3
      with:
        name: android-project-files
        path: |
          app/
          .github/
        retention-days: 1